{"id":"Claude-Terminal-3mg","title":"useIsMobile Hook: Detect mobile viewport","description":"Create a hook to detect if the app is running on a mobile device/viewport.\n\nNew file: src/renderer/hooks/useIsMobile.ts\n\nDetection methods:\n1. Viewport width (primary): window.innerWidth \u003c 768\n2. Touch capability: 'ontouchstart' in window\n3. Capacitor detection: Capacitor.isNativePlatform()\n\n```typescript\nimport { Capacitor } from '@capacitor/core'\n\ninterface MobileInfo {\n  isMobile: boolean           // True if mobile viewport OR native app\n  isNativeApp: boolean        // True if running in Capacitor\n  isTouchDevice: boolean      // True if touch capable\n  viewportWidth: number       // Current viewport width\n  orientation: 'portrait' | 'landscape'\n}\n\nfunction useIsMobile(): MobileInfo\n```\n\nFeatures:\n- Responds to resize events (tablet rotation)\n- Debounced to avoid excessive re-renders\n- SSR-safe (checks for window)\n- Memoized for performance\n\nUsage in components:\n```typescript\nconst { isMobile, isNativeApp } = useIsMobile()\n\nreturn isMobile ? \u003cMobileLayout /\u003e : \u003cDesktopLayout /\u003e\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T15:55:47.825677233+01:00","updated_at":"2026-01-19T16:10:41.659762592+01:00","closed_at":"2026-01-19T16:10:41.659762592+01:00","dependencies":[{"issue_id":"Claude-Terminal-3mg","depends_on_id":"Claude-Terminal-fxg","type":"blocks","created_at":"2026-01-19T15:56:46.475451989+01:00","created_by":"user"}]}
{"id":"Claude-Terminal-45s","title":"Mobile CSS: Responsive styles and touch targets","description":"Create mobile-specific CSS for touch-friendly UI.\n\nNew file: src/renderer/styles/mobile.css\n\nMedia queries for mobile breakpoint (max-width: 768px):\n\n1. Touch target sizing:\n   - Minimum 44x44px tap targets (Apple HIG)\n   - Increase button padding\n   - Larger close buttons on tabs\n\n2. Typography adjustments:\n   - Slightly larger base font for readability\n   - Proper line height for touch selection\n\n3. Layout changes:\n   - Full-width terminal (no sidebar visible by default)\n   - Stacked layouts instead of side-by-side\n   - Proper safe area insets for notches\n\n4. Terminal adjustments:\n   - Larger font size option\n   - Touch-friendly scrolling\n   - Prevent text selection on swipe\n\n5. Hide desktop-only elements:\n   - Tab bar (replaced by SwipeDots)\n   - Resize handles\n   - Hover-only interactions\n\n6. Animation/transition preferences:\n   - Respect prefers-reduced-motion\n   - Smooth transforms for drawer\n\nCSS custom properties for mobile:\n```css\n:root {\n  --mobile-min-tap-target: 44px;\n  --mobile-drawer-width: 90vw;\n  --mobile-transition-duration: 0.3s;\n}\n```\n\nImport in main styles.css with media query wrapper.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T15:55:42.562178764+01:00","updated_at":"2026-01-19T16:05:24.066971499+01:00","closed_at":"2026-01-19T16:05:24.066971499+01:00"}
{"id":"Claude-Terminal-6pp","title":"HTTP Client: Replace electronAPI with HTTP/WebSocket client","description":"Create an HTTP client that mirrors the electronAPI interface for mobile use.\n\nCurrent architecture:\n- Renderer calls window.electronAPI.methodName()\n- Preload script exposes ipcRenderer methods\n- Main process handles via ipcMain handlers\n\nNew architecture (mobile):\n- Renderer calls same interface\n- Client implementation switches based on platform:\n  - Electron: Uses existing electronAPI\n  - Mobile/Web: Uses HTTP/WebSocket client\n\nNew file: src/renderer/api/httpClient.ts\n\n```typescript\ninterface ApiClient {\n  // Mirrors electronAPI interface\n  createTerminal(options: TerminalOptions): Promise\u003cstring\u003e\n  writeTerminal(id: string, data: string): void\n  onTerminalData(id: string, callback: (data: string) =\u003e void): void\n  closeTerminal(id: string): void\n  \n  getProjects(): Promise\u003cProject[]\u003e\n  getSettings(): Promise\u003cSettings\u003e\n  saveSettings(settings: Settings): Promise\u003cvoid\u003e\n  // ... etc\n}\n\n// Factory function\nfunction createApiClient(): ApiClient {\n  if (window.electronAPI) {\n    return window.electronAPI  // Electron\n  }\n  return new HttpApiClient(getHostConfig())  // Mobile/Web\n}\n```\n\nWebSocket for terminal:\n- Connect to ws://host:port/ws/terminal\n- Handle reconnection on disconnect\n- Buffer data during reconnection\n- Binary frames for terminal data (performance)\n\nHTTP for REST operations:\n- Fetch-based with auth token header\n- Retry logic for transient failures\n- Proper error handling","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:53.094027283+01:00","updated_at":"2026-01-19T16:10:41.660800634+01:00","closed_at":"2026-01-19T16:10:41.660800634+01:00","dependencies":[{"issue_id":"Claude-Terminal-6pp","depends_on_id":"Claude-Terminal-gs0","type":"blocks","created_at":"2026-01-19T15:56:51.520195487+01:00","created_by":"user"}]}
{"id":"Claude-Terminal-6u0","title":"Swipe Gesture Hook: useSwipeGesture for mobile navigation","description":"Create a React hook for detecting swipe gestures to enable mobile tab navigation.\n\nFunctionality:\n- Detect horizontal swipes (left/right) for tab cycling\n- Detect swipe from right edge to open sidebar drawer\n- Calculate swipe velocity for momentum-based feel\n- Distinguish between tap, swipe, and scroll\n\nInterface:\n```typescript\ninterface SwipeOptions {\n  onSwipeLeft: () =\u003e void      // Next tab\n  onSwipeRight: () =\u003e void     // Previous tab  \n  onSwipeRightEdge: () =\u003e void // Open sidebar\n  threshold?: number           // Min swipe distance (default 50px)\n  edgeWidth?: number          // Edge detection zone (default 20px)\n  velocityThreshold?: number  // Min velocity for swipe (default 0.3)\n}\n\nfunction useSwipeGesture(ref: RefObject\u003cHTMLElement\u003e, options: SwipeOptions)\n```\n\nImplementation:\n- Use touch events (touchstart, touchmove, touchend)\n- Track start position, current position, timestamps\n- Calculate velocity = distance / time\n- Prevent default on horizontal swipes to avoid scroll conflicts\n\nNew file: src/renderer/hooks/useSwipeGesture.ts","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:16.132700445+01:00","updated_at":"2026-01-19T16:05:24.066272338+01:00","closed_at":"2026-01-19T16:05:24.066272338+01:00"}
{"id":"Claude-Terminal-amk","title":"QR Code Host Connection: Scan to connect mobile to host","description":"Implement QR code scanning to easily connect mobile app to host PC.\n\nHost side (Electron app):\n- Generate connection URL: claude-terminal://192.168.1.5:3847?token=abc123\n- Display QR code in settings or dedicated 'Mobile Connect' panel\n- Show current IP, port, and connection status\n- Regenerate token button for security\n\nMobile side (Capacitor app):\n- QR scanner using @capacitor-community/barcode-scanner\n- Parse connection URL, extract host/port/token\n- Save to persistent storage (Capacitor Preferences)\n- Support multiple saved hosts with nicknames\n- Show connection status indicator\n\nNew files:\n- src/renderer/components/mobile/QRScanner.tsx\n- src/renderer/components/HostQRDisplay.tsx (for desktop)\n- src/renderer/components/mobile/HostSelector.tsx\n- src/renderer/hooks/useHostConnection.ts\n\nHost config storage:\n```typescript\ninterface HostConfig {\n  id: string\n  name: string        // User-defined nickname\n  host: string        // IP or hostname\n  port: number\n  token: string       // Auth token\n  lastConnected: Date\n}\n```\n\nConnection flow:\n1. User opens sidebar on mobile, taps 'Add Host'\n2. Camera opens, scans QR from host PC screen\n3. Connection established, host saved\n4. Future sessions auto-connect to last host","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:32.004055424+01:00","updated_at":"2026-01-19T16:10:41.661085605+01:00","closed_at":"2026-01-19T16:10:41.661085605+01:00","dependencies":[{"issue_id":"Claude-Terminal-amk","depends_on_id":"Claude-Terminal-gs0","type":"blocks","created_at":"2026-01-19T15:56:36.361715224+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-amk","depends_on_id":"Claude-Terminal-fxg","type":"blocks","created_at":"2026-01-19T15:56:41.41749733+01:00","created_by":"user"}]}
{"id":"Claude-Terminal-fxg","title":"Capacitor Setup: Initialize mobile app wrapper","description":"Set up Capacitor to wrap the React renderer as iOS/Android app.\n\nSteps:\n1. Install Capacitor core and CLI\n   npm install @capacitor/core @capacitor/cli\n\n2. Initialize Capacitor\n   npx cap init 'Claude Terminal' 'com.claudeterminal.app'\n\n3. Add platforms\n   npx cap add android\n   npx cap add ios\n\n4. Configure capacitor.config.ts:\n   - Set webDir to renderer build output\n   - Configure server URL for dev (points to Vite dev server)\n   - Add plugins config (barcode scanner, preferences)\n\n5. Install required plugins:\n   npm install @capacitor/preferences          # Storage\n   npm install @capacitor-community/barcode-scanner  # QR scanning\n   npm install @capacitor/status-bar           # Status bar control\n   npm install @capacitor/keyboard             # Keyboard handling\n\n6. Update build scripts in package.json:\n   - 'build:mobile' - builds renderer for Capacitor\n   - 'cap:sync' - syncs web build to native projects\n   - 'cap:android' - opens Android Studio\n   - 'cap:ios' - opens Xcode\n\nNew files:\n- capacitor.config.ts\n- android/ (generated)\n- ios/ (generated)\n\nNote: Keep Electron build separate, Capacitor only wraps the renderer.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-19T15:55:37.266677814+01:00","updated_at":"2026-01-19T16:05:24.066629684+01:00","closed_at":"2026-01-19T16:05:24.066629684+01:00"}
{"id":"Claude-Terminal-gs0","title":"Backend API: Convert IPC handlers to HTTP/WebSocket endpoints","description":"Convert existing Electron IPC handlers to HTTP REST + WebSocket API so the mobile app can communicate with the host.\n\nContext:\n- Current IPC handlers in src/main/ipc/*.ts expose functionality to renderer via Electron IPC\n- Need to wrap these as HTTP endpoints (Express/Fastify)\n- Terminal streaming (PTY data) needs WebSocket for real-time bidirectional communication\n- Other operations (settings, workspace, projects) can be REST\n\nKey files to convert:\n- src/main/ipc/cli-handlers.ts → /api/cli/*\n- src/main/ipc/project-handlers.ts → /api/projects/*\n- src/main/ipc/settings-handlers.ts → /api/settings/*\n- src/main/pty-manager.ts → WebSocket /ws/terminal/:sessionId\n\nNew files needed:\n- src/server/app.ts (Express/Fastify server)\n- src/server/routes/*.ts (API routes)\n- src/server/ws-handler.ts (WebSocket handler)\n- src/server/auth.ts (token-based auth for QR code connection)\n\nSecurity considerations:\n- Generate auth token displayed in QR code\n- Validate token on all requests\n- Only accept connections from local network by default","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:10.795013287+01:00","updated_at":"2026-01-19T16:05:24.0650587+01:00","closed_at":"2026-01-19T16:05:24.0650587+01:00"}
{"id":"Claude-Terminal-id9","title":"Mobile App: Claude Terminal Capacitor Client","description":"Create a mobile (iOS/Android) version of Claude Terminal using Capacitor. The app will:\n- Wrap existing React renderer as native mobile app\n- Connect to host PC via WebSocket/HTTP (backend API)\n- Use swipe gestures for tab navigation (left/right between sessions)\n- Slide-out sidebar drawer (90% width) on swipe from right edge\n- QR code scanning to connect to host machine\n- Touch-optimized UI with larger tap targets\n\nArchitecture:\n- Phone app = thin client (UI only)\n- Host PC = backend server (PTY, file system, CLI tools)\n- Communication via WebSocket for terminal streaming, HTTP for REST calls","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-19T15:54:01.844796782+01:00","updated_at":"2026-01-19T16:13:42.72692142+01:00","closed_at":"2026-01-19T16:13:42.72692142+01:00","dependencies":[{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-gs0","type":"blocks","created_at":"2026-01-19T15:56:56.566833398+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-6u0","type":"blocks","created_at":"2026-01-19T15:57:01.603681119+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-mn7","type":"blocks","created_at":"2026-01-19T15:57:06.643103657+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-lmi","type":"blocks","created_at":"2026-01-19T15:57:11.68243573+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-amk","type":"blocks","created_at":"2026-01-19T15:57:16.72001516+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-fxg","type":"blocks","created_at":"2026-01-19T15:57:21.757224302+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-45s","type":"blocks","created_at":"2026-01-19T15:57:26.795176656+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-3mg","type":"blocks","created_at":"2026-01-19T15:57:31.831256829+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-id9","depends_on_id":"Claude-Terminal-6pp","type":"blocks","created_at":"2026-01-19T15:57:36.871375114+01:00","created_by":"user"}]}
{"id":"Claude-Terminal-lmi","title":"Mobile Tab UI: Swipe dots and hidden tab bar","description":"Modify TerminalTabs component to show swipe indicator dots instead of tab bar on mobile.\n\nCurrent behavior (desktop):\n- Horizontal tab bar with clickable tabs\n- Shows tab title, close button, new session button\n- Wheel scroll to cycle tabs\n\nNew behavior (mobile):\n- Hide tab bar completely\n- Show minimal indicator: dots or 'Session 2 of 4' text\n- Swipe left/right to change tabs (handled by useSwipeGesture)\n- Long-press could show tab picker modal (optional)\n\nNew component: src/renderer/components/mobile/SwipeDots.tsx\n```typescript\ninterface SwipeDotsProps {\n  current: number  // 0-indexed current tab\n  total: number    // Total number of tabs\n  onDotClick?: (index: number) =\u003e void  // Optional direct navigation\n}\n```\n\nVisual design:\n- Centered row of dots at top of screen\n- Current tab = filled dot, others = hollow\n- Max 5 dots shown, then show '2/8' style counter\n- Subtle, doesn't take much vertical space\n\nChanges to TerminalTabs.tsx:\n- Add useIsMobile() check\n- Render SwipeDots instead of TabBar on mobile\n- Integrate with useSwipeGesture hook for navigation","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:26.720058236+01:00","updated_at":"2026-01-19T16:13:42.726615397+01:00","closed_at":"2026-01-19T16:13:42.726615397+01:00","dependencies":[{"issue_id":"Claude-Terminal-lmi","depends_on_id":"Claude-Terminal-3mg","type":"blocks","created_at":"2026-01-19T15:56:26.25998742+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-lmi","depends_on_id":"Claude-Terminal-6u0","type":"blocks","created_at":"2026-01-19T15:56:31.317580216+01:00","created_by":"user"}]}
{"id":"Claude-Terminal-mn7","title":"Mobile Sidebar Drawer: Transform sidebar to slide-out drawer","description":"Modify the existing Sidebar component to work as a slide-out drawer on mobile.\n\nCurrent behavior (desktop):\n- Fixed 280px width, collapsible to 40px\n- Always visible on left side\n- Resizable via drag\n\nNew behavior (mobile):\n- Hidden by default (off-screen to the right)\n- Slides in from right edge when triggered\n- Takes 90% of screen width when open\n- Backdrop overlay dims main content\n- Tap outside or swipe left to close\n- Smooth CSS transform animation\n\nChanges to src/renderer/components/Sidebar.tsx:\n- Add `isMobile` prop or use useIsMobile() hook\n- Conditional rendering: fixed position + transform on mobile\n- Add backdrop overlay component\n- Handle close on backdrop tap\n- Handle close on swipe left gesture\n\nCSS changes (src/renderer/styles/mobile.css):\n```css\n@media (max-width: 768px) {\n  .sidebar-mobile {\n    position: fixed;\n    right: 0;\n    top: 0;\n    bottom: 0;\n    width: 90vw;\n    transform: translateX(100%);\n    transition: transform 0.3s ease-out;\n    z-index: 100;\n  }\n  .sidebar-mobile.open {\n    transform: translateX(0);\n  }\n  .sidebar-backdrop {\n    position: fixed;\n    inset: 0;\n    background: rgba(0,0,0,0.5);\n    z-index: 99;\n  }\n}\n```","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-19T15:55:21.423928647+01:00","updated_at":"2026-01-19T16:13:42.725502597+01:00","closed_at":"2026-01-19T16:13:42.725502597+01:00","dependencies":[{"issue_id":"Claude-Terminal-mn7","depends_on_id":"Claude-Terminal-3mg","type":"blocks","created_at":"2026-01-19T15:56:16.169238826+01:00","created_by":"user"},{"issue_id":"Claude-Terminal-mn7","depends_on_id":"Claude-Terminal-6u0","type":"blocks","created_at":"2026-01-19T15:56:21.222301052+01:00","created_by":"user"}]}
